{"version":3,"sources":["images/logo.svg","components/Profile.jsx","components/Enter.jsx","components/Header.jsx","context/CurrentUserContext.jsx","components/Card.jsx","components/Main.jsx","components/Form.jsx","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.js","components/Footer.jsx","components/PopupWithForm.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","components/ImagePopup.jsx","components/InfoPopup.jsx","utils/api.js","utils/auth.js","components/App.jsx","utils/token.js","index.js"],"names":["module","exports","Profile","userData","onLogOut","className","email","onClick","Enter","pageEnter","useLocation","pathname","href","Header","loggedIn","page","src","logoMesto","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteClassName","isLiked","likes","some","i","cardLikeClassName","type","title","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","key","Form","onSubmit","children","submitText","onClose","noValidate","value","Login","useState","password","inputValue","setInputValue","handleChange","event","target","isOpen","e","preventDefault","onLogin","setTimeout","placeholder","required","minLength","maxLength","onChange","id","Register","onRegister","ProtectedRoute","routeProps","to","Footer","PopupWithForm","EditProfilePopup","useEffect","onUpdateUser","EditAvatarPopup","textInput","useRef","onUpdateAvatar","current","ref","pattern","AddPlacePopup","ImagePopup","InfoPopup","infoTool","infoType","infoText","api","apiData","_handleOriginalResponse","res","ok","json","Promise","reject","Error","status","this","baseUrl","headers","fetch","then","item","method","body","JSON","stringify","console","log","putLike","deleteLike","authorization","BASE_URL","userAuth","response","errorMassage","statusText","data","token","Authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoggedIn","isInfoToolOpen","setIsInfoToolOpen","InfoToolValue","setInfoToolValue","setUserData","history","useHistory","tokenCheck","jwt","localStorage","getItem","getContent","push","catch","err","loadUserInfoandCards","a","getInitialUser","user","getInitialCards","closeAllPopups","Provider","removeItem","path","onDeleteImg","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","register","authorize","setItem","exact","putUserInfo","createCard","putAvatarInfo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92c43d15.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.94cbab21.svg\";","import React from 'react';\r\n\r\nfunction Profile({userData, onLogOut}) {\r\n\tfunction signOut(){\r\n\t\tonLogOut();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ul className=\"navbar\">\r\n\t\t\t<li className=\"navbar__element\">{userData.email}</li> \r\n\t\t\t<li className=\"navbar__element\"><button onClick={signOut} className=\"navbar__element navbar__button\">Выйти</button></li>\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nfunction Enter() {\r\n\tconst location = useLocation().pathname;\r\n\tlet pageEnter = true;\r\n\tif(location !== \"/sign-in\"){ pageEnter = false} else { pageEnter = true;};\r\n\t\r\n\treturn (\r\n\t\t<a className=\"header__link\" href={ pageEnter ? '/sign-up' : '/sign-in' } >{ pageEnter ? 'Регистрация' : 'Вход' }</a>\r\n\t);\r\n}\r\n\r\nexport default Enter;","import React from 'react';\r\nimport logoMesto from '../images/logo.svg';\r\nimport Profile from './Profile';\r\nimport Enter from './Enter';\r\n\r\n/**{loggedIn ? <UserInfo / > : <NavReg />} */\r\nfunction Header({loggedIn, userData, onLogOut, page}) {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img src={logoMesto} className=\"header__logo\" alt=\"Место\" />\r\n\t\t\t{ loggedIn ? <Profile onLogOut={onLogOut}  userData={userData} /> : <Enter page = {page} /> }\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React  from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../context/CurrentUserContext';\r\n\r\nfunction Card (props) {\r\n\t\t\t\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t\t/** Определяем, являемся ли мы владельцем текущей карточки */\r\n\t\tconst isOwn = props.owner._id === currentUser._id;\r\n\t\t/**  Создаём переменную, которую после зададим в `className` для кнопки удаления */\r\n\t\tconst cardDeleteClassName = (\r\n\t\t`element__delete ${isOwn ? 'element__delete' : 'element__delete_disable'}`\r\n\t\t); \r\n\r\n\t\tconst isLiked = props.likes.some(i => i._id === currentUser._id);\r\n\t\tconst cardLikeClassName  =  (\r\n\t\t\t\t`element__like${isLiked ? ' element__like_active' : ''}`\r\n\t\t\t\t);\r\n\r\n\r\n\t\tfunction handleClick () {\r\n\t\t\t\tprops.onCardClick({name: props.name, link: props.link});\r\n\t\t}\r\n\r\n\t\tfunction handleLikeClick () {\r\n\t\t\t\tprops.onCardLike(props);\r\n\t\t}\r\n\r\n\t\tfunction handleDeleteClick () {\r\n\t\t\t\tprops.onCardDelete(props);\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t\t\t<li className=\"element\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className={cardDeleteClassName} title=\"Удалить\" onClick={handleDeleteClick}></button>\r\n\t\t\t\t\t\t\t<img  className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick} />\r\n\t\t\t\t\t\t\t<div className=\"element__name\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"element__title\">{props.name}</h3>\r\n\t\t\t\t\t\t\t\t\t<div className=\"element__likesinfo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className={cardLikeClassName} title=\"Нравится\" onClick={handleLikeClick}></button>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"element__likecount\">{props.likes.length}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t)\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../context/CurrentUserContext';\r\n\r\nfunction Main (props) {\r\n\tconst currentUser = React.useContext(CurrentUserContext); // подписываем на контекст\r\n\t//console.log(currentUser);\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t<section className=\"lead\">\r\n\t\t\t<a href=\"#\" className=\"lead__avatar-cover\" onClick = {props.onEditAvatar}>\r\n\t\t\t\t<img  alt={currentUser ? currentUser.name : ''} src={currentUser ? currentUser.avatar : ''} className=\"lead__avatar\" />\r\n\t\t\t</a>\r\n\t\t\t<div className=\"lead__profile-info\">\r\n\t\t\t\t<div className=\"lead__profile-header\">\r\n\t\t\t\t\t<h1 className=\"lead__name\">{currentUser ? currentUser.name : ''}</h1>\r\n\t\t\t\t\t<button type=\"button\" title=\"Редактировать\" className=\"lead__edit-button\" onClick={props.onEditProfile}></button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"lead__text\">{currentUser ? currentUser.about : ''}</p>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"button\" className=\"lead__add-button\" title=\"Добавить\" onClick={props.onAddPlace}></button>\r\n\t\t</section>\r\n\r\n\t\t<section className=\"elements\">\r\n\t\t\t<ul className=\"elements__list\">\r\n\t\t\t\t{props.cards.map(card  => <Card key={card._id} {...card}  onCardClick={props.onCardClick} onCardLike ={props.onCardLike} onCardDelete={props.onCardDelete} />)}\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nfunction Form ({name,title, onSubmit, children, submitText, onClose}) {\r\n\tconst location = useLocation().pathname;\r\n\tlet pageEnter = true;\r\n\tif(location !== \"/sign-in\"){ pageEnter = false} else { pageEnter = true;};\r\n\t\r\n\r\n\treturn(\r\n\t\t\t\t<form name={`form_type_${name}`} className='form form_type_login' noValidate onSubmit={onSubmit}>\r\n\t\t\t\t\t\t<div className=\"form__edit form__edit_theme_dark\">\r\n\t\t\t\t\t\t\t<div className=\"form__element-login\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"form__title form__title_theme_dark\">{title}</h2>\r\n\t\t\t\t\t\t\t\t{children}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form__element-login\">\r\n\t\t\t\t\t\t\t\t<input type=\"submit\" value={submitText} className=\"form__submit form__submit_theme_dark\"></input>\r\n\t\t\t\t\t\t\t\t{ !pageEnter ? <a href=\"/sign-in\" className=\"form__link\">Уже зарегистрированы? Войти</a> : ''}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\nimport Form from './Form';\r\n\r\n\r\nfunction Login (props) {\r\n\r\n\tconst [inputValue , setInputValue] = React.useState({\r\n\t\t\temail: '',\r\n\t\t\tpassword: ''\r\n\t\t});\r\n\t\r\n\r\n\tfunction handleChange (event) {\r\n\t\tconst {name, value} = event.target;\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSubmit (e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tconst { email, password } = inputValue;\r\n\t\tif (!email || !password){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tprops.onLogin(password, email);\r\n\r\n\t\tsetTimeout(() =>{ \r\n\t\t\tsetInputValue({\r\n\t\t\t\temail:'',\r\n\t\t\t\tpassword:''\r\n\t\t\t});\r\n\t\t}, 3000);\r\n\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<main className=\"content__form\">\r\n\r\n\t\t<Form \r\n\t\t\tname = \"login\"\r\n\t\t\ttitle = \"Вход\"\r\n\t\t\tsubmitText = \"Войти\"\r\n\t\t\tisOpen = {props.isOpen}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t\t\t<input type=\"email\" value={inputValue.email}  className=\"form__edt-text form__edt-text_theme_dark\" name=\"email\" placeholder=\"E-mail\" required minLength=\"1\" maxLength=\"30\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"name-error\" className=\"form__error\"></span>\r\n\t\t\t\t\t\t<input value={inputValue.password}  className=\"form__edt-text  form__edt-text_theme_dark\" name=\"password\" placeholder=\"Ваш пароль\" required type=\"password\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"pwd-error\" className=\"form__error\"></span>\r\n\t\t</Form> \r\n\t\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport Form from './Form';\r\n\r\n\r\n\r\nfunction Register (props) {\r\n\tconst [inputValue , setInputValue] = React.useState({\r\n\t\t\temail: '',\r\n\t\t\tpassword: ''\r\n\t\t});\r\n\r\n\tfunction handleChange (event) {\r\n\t\tconst {name, value} = event.target;\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { email, password } = inputValue;\r\n\t\tif (!email || !password){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tprops.onRegister(password, email);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t<main className=\"content__form\">\r\n\t\t<Form \r\n\t\t\tpage = {props.page}\r\n\t\t\tname = \"registration\"\r\n\t\t\ttitle = \"Регистрация\"\r\n\t\t\tsubmitText = \"Зарегистрироваться\"\r\n\t\t\tonSubmit={handleSubmit} >\r\n\t\t\t\t\t\t<input type=\"email\" value={inputValue.email} className=\"form__edt-text form__edt-text_theme_dark\" name=\"email\" placeholder=\"E-mail\" required minLength=\"1\" maxLength=\"30\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"name-error\" className=\"form__error\"></span>\r\n\t\t\t\t\t\t<input value={inputValue.password}  className=\"form__edt-text  form__edt-text_theme_dark\" name=\"password\" placeholder=\"Ваш пароль\" required type=\"password\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"pwd-error\" className=\"form__error\"></span>\r\n\t\t</Form>\r\n\t</main>\r\n\t);\r\n}\r\n\r\nexport default Register;\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ loggedIn, ...routeProps }) => {\r\n\treturn (\r\n\t\t\t\r\n\t\t\t\t\tloggedIn ? <Route {...routeProps} /> : <Redirect to=\"./sign-in\" />\r\n\t\t\t\t\t\r\n)}\r\n\r\nexport default ProtectedRoute; ","import React from 'react';\r\n\r\nfunction Footer () {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\nexport default Footer;\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm (props) {\r\n\treturn(\r\n\t\t\t<div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n\t\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t\t<form name={`form_type_${props.name}`} className='form' noValidate onSubmit={props.onSubmit}>\r\n\t\t\t\t\t\t<div className=\"form__edit\">\r\n\t\t\t\t\t\t\t<h2 className=\"form__title\">{props.title}</h2>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t\t<input type=\"submit\" value={props.submitText} className=\"form__submit\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"form__close\" title=\"Закрыть\" onClick={props.onClose}></button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PopupWithForm;\r\n\r\n\r\n","import React, {useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../context/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n\tconst currentUser = React.useContext(CurrentUserContext); // подписываем на контекст\r\n\t\r\n\tconst [inputValue , setInputValue] = React.useState({\r\n\t\t\tname: '',\r\n\t\t\tabout: ''\r\n\t\t});\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\t\t\tsetInputValue({\r\n\t\t\t\t\t\tname : currentUser ? currentUser.name : '',\r\n\t\t\t\t\t\tabout : currentUser ? currentUser.about : ''\r\n\t\t\t\t\t});\r\n\t\t}, [currentUser]);\r\n\r\n\r\n\tfunction handleChange(event) {\r\n\t\tconst {name, value} = event.target;\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tprops.onUpdateUser(inputValue);\r\n\t} \r\n\r\n\r\nreturn(\r\n\t<PopupWithForm \r\n\t\tname = \"edit\"\r\n\t\ttitle = \"Редактировать профиль\"\r\n\t\tsubmitText = \"Сохранить\"\r\n\t\tonSubmit={handleSubmit}\r\n\t\tisOpen = {props.isOpen}\r\n\t\tonClose = {props.onClose}>\r\n\t\t<input value={inputValue.name} type=\"text\" className=\"form__edt-text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Имя\" onChange={handleChange} />\r\n\t\t<span id=\"name-error\" className=\"form__error\"></span>\r\n\t\t<input value={inputValue.about} type=\"text\" className=\"form__edt-text\" name=\"about\" minLength=\"2\" maxLength=\"200\" required placeholder=\"О себе\" onChange={handleChange} />\r\n\t\t<span id=\"about-error\" className=\"form__error\"></span>\r\n</PopupWithForm>\r\n\r\n\t);\r\n\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n\tconst textInput = useRef(null);\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.onUpdateAvatar({\r\n\t\t\tavatar: textInput.current.value\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n\t\t<PopupWithForm \r\n\t\t\t\t\t\t\tname=\"avatar\" \r\n\t\t\t\t\t\t\ttitle = \"Обновить аватар\"\r\n\t\t\t\t\t\t\tsubmitText=\"Сохранить\"\r\n\t\t\t\t\t\t\tisOpen = {props.isOpen}\r\n\t\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\t\tonClose = {props.onClose}>\r\n\t\t\t\t\t\t\t\t<input className=\"form__edt-text\" name=\"link\"  placeholder=\"Ссылка на картинку\" ref={textInput} required type=\"url\" pattern=\"https://.*\" />\r\n\t\t\t\t\t\t\t\t<span id=\"link-error\" className=\"form__error\"></span>\r\n\t\t</PopupWithForm>\r\n\t\r\n\t\t);\r\n\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup (props) {\r\n\tconst [inputValue , setInputValue] = React.useState({\r\n\t\t\tname: '',\r\n\t\t\tlink: ''\r\n\t\t});\r\n\r\n\t\t\r\n\r\n\tfunction handleChange (event) {\r\n\t\tconst {name, value} = event.target;\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSubmit (e) {\r\n\t\t// Запрещаем браузеру переходить по адресу формы\r\n\t\te.preventDefault();\r\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\r\n\t\tprops.onAddPlace(inputValue);\r\n\r\n\t\tsetTimeout(() =>{\r\n\t\t\tsetInputValue({\r\n\t\t\t\tname:'',\r\n\t\t\t\tlink:''\r\n\t\t\t});\r\n\t\t}, 3000);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\treturn(\r\n\t\t\t<PopupWithForm \r\n\t\t\tname = \"add\"\r\n\t\t\ttitle = \"Новое место\"\r\n\t\t\tsubmitText = \"Создать\"\r\n\t\t\tisOpen = {props.isOpen}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tonClose = {props.onClose}>\r\n\t\t\t\t\t\t<input type=\"text\" value={inputValue.name}  className=\"form__edt-text\" name=\"name\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"name-error\" className=\"form__error\"></span>\r\n\t\t\t\t\t\t<input value={inputValue.link}  className=\"form__edt-text\" name=\"link\" placeholder=\"Ссылка на картинку\" required type=\"url\" pattern=\"https://.*\" onChange={handleChange} />\r\n\t\t\t\t\t\t<span id=\"link-error\" className=\"form__error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t\t\t\r\n\t\t);\r\n\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup ({isOpen, onClose, card}) {\r\n\treturn(\r\n\t\t\t<div className={`popup popup_bigimage  ${isOpen&&'popup_opened'}`}>\r\n\t\t\t\t<div className=\"popup__container popup__container_bigimage\">\r\n\t\t\t\t\t<figure className=\"popup__images\">\r\n\t\t\t\t\t\t<img className=\"popup__image\" alt={isOpen ? card.name : ''} src={isOpen ? card.link : ''} />\r\n\t\t\t\t\t\t<figcaption className=\"popup__caption\">\r\n\t\t\t\t\t\t\t{isOpen ? card.name : ''}\r\n\t\t\t\t\t\t</figcaption>\r\n\t\t\t\t\t</figure>\r\n\t\t\t\t\t<button type=\"button\" className=\"form__close\" title=\"Закрыть\" onClick={onClose}></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t)\r\n\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nfunction InfoPopup ({isOpen, onClose, infoTool}) {\r\n\treturn(\r\n\t\t\t<div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n\t\t\t\t<div className=\"popup__container popup__container_infotext\">\r\n\t\t\t\t\t\t<div className=\"popup__info\">\r\n\t\t\t\t\t\t\t<img className={infoTool.infoType} alt = {infoTool.name} />\r\n\t\t\t\t\t\t\t<h3 className=\"popup__info-title\">{infoTool.infoText}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type=\"button\" className=\"form__close\" title=\"Закрыть\" onClick={onClose}></button>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default InfoPopup;"," class Api {\r\n    constructor(apiData) {\r\n        this.baseUrl = apiData.baseUrl;\r\n\t\tthis.headers = apiData.headers; /** объект */\r\n\t}\r\n\r\n\t_handleOriginalResponse = (res) => {\r\n\t\tif (!res.ok) {\r\n\t\treturn Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n\t\t}\r\n\t\treturn res.json();\r\n\t}\r\n\r\n\r\n\tgetInitialCards() {\r\n\t\treturn fetch(`${this.baseUrl}cards`, {\r\n\t\t\theaders: this.headers\r\n\t\t})\r\n\t\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\r\n\tgetInitialUser() {\r\n\t\treturn fetch(`${this.baseUrl}users/me`, {\r\n\t\t\theaders: this.headers\r\n\t\t})\r\n\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\r\n\tputUserInfo(item) {\r\n\t\treturn fetch(`${this.baseUrl}users/me`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this.headers,\r\n\t\t\tbody: JSON.stringify(item)\r\n\t\t})\r\n\t\t.then(this._handleOriginalResponse);\r\n\t\t\r\n\t}\r\n\r\n\r\n\tputAvatarInfo(avatar) {\r\n\t\tconsole.log(avatar);\r\n\t\treturn fetch(`${this.baseUrl}users/me/avatar`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this.headers,\r\n\t\t\tbody: JSON.stringify(avatar)\r\n\t\t})\r\n\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\r\n\r\n\tdeleteCard (id) {\r\n\t\treturn fetch(`${this.baseUrl}cards/${id}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this.headers\r\n\t\t})\r\n\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\t\r\n\tcreateCard (item) { \r\n\t\treturn fetch(`${this.baseUrl}cards`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this.headers,\r\n\t\t\tbody: JSON.stringify(item)\r\n\t\t})\r\n\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\t\r\n\r\n\tputLike (id) {\r\n\t\t\treturn fetch(`${this.baseUrl}cards/likes/${id}`, {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: this.headers\r\n\t\t\t})\r\n\t\t\t.then(this._handleOriginalResponse);\r\n\t}\r\n\r\n\tdeleteLike (id) {\r\n\t\t\treturn fetch(`${this.baseUrl}cards/likes/${id}`, {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: this.headers\r\n\t\t\t})\r\n\t\t\t.then(this._handleOriginalResponse);\r\n\t\t}\r\n\r\n\tchangeLikeCardStatus(id, isLiked) {\r\n\t\tconst res = isLiked ? this.putLike(id) : this.deleteLike(id);\r\n\t\treturn res;\r\n\t}\r\n\r\n}\r\n\r\n\r\nconst api = new Api({\r\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\r\n\theaders: {\r\n\t\tauthorization: 'b5b09145-9ffa-43dc-a8a7-afd53c9e00bd',\r\n\t\t'Content-Type': 'application/json'\r\n\t}\r\n});\r\n\r\n\r\nexport default api;\r\n\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nclass Auth {\r\n\tconstructor(apiData) {\r\n        this.baseUrl = apiData.baseUrl;\r\n\t\tthis.headers = apiData.headers;\r\n\t}\r\n\r\n\r\n\r\n\tregister (password, email) {\r\n\t\treturn fetch(`${BASE_URL}/signup`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this.headers,\r\n\t\t\tbody: JSON.stringify({password, email})\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\t//console.log(response);\r\n\t\t\t\tif(!response.ok){\r\n\t\t\t\t\tconst errorMassage = {status: response.status};\r\n\t\t\t\t\tif(response.status === 400){errorMassage.statusText = 'Некорректно заполнено одно из полей';}\r\n\t\t\t\t\t\treturn Promise.reject(errorMassage);\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => data);\r\n\t};\r\n\r\n\r\n\tauthorize (password, email) {\r\n\t\treturn fetch(`${BASE_URL}/signin`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this.headers,\r\n\t\t\tbody: JSON.stringify({password, email})\r\n\t\t})\r\n\t\t.then(response => {\r\n\t\t\t//console.log(response);\r\n\t\t\tif(!response.ok){\r\n\t\t\t\tconst errorMassage = {status: response.status};\r\n\t\t\t\tif(response.status === 400){errorMassage.statusText = 'Не передано одно из полей';}\r\n\t\t\t\tif(response.status === 401){errorMassage.statusText = 'Пользователь с email не найден';}\r\n\t\t\t\treturn Promise.reject(errorMassage);\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(data => data);\r\n\t};\r\n\r\n\tgetContent (token) {\r\n\t\tthis.headers.Authorization =  `Bearer ${token}`;\r\n\t\tconsole.log(this.headers);\r\n\t\t\treturn fetch(`${BASE_URL}/users/me`, {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: this.headers\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\t\t\tif(!response.ok){\r\n\t\t\t\t\t\t\tconst errorMassage = {status: response.status};\r\n\t\t\t\t\t\t\tif(response.status === 400){errorMassage.statusText = 'Токен не передан или передан не в том формате';}\r\n\t\t\t\t\t\t\tif(response.status === 401){errorMassage.statusText = 'Переданный токен некорректен';}\r\n\t\t\t\t\t\treturn Promise.reject(errorMassage);\r\n\t\t\t\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => data);\r\n\t};\r\n}\r\n\r\nconst userAuth = new Auth({\r\n\tbaseUrl: 'https://auth.nomoreparties.co',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json',\r\n\t\t'Accept': 'application/json'\r\n\t}\r\n});\r\n\r\n\r\n\r\nexport default userAuth;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\r\n\r\n\r\nimport Header from './Header';\r\nimport Main from './Main';\r\n\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute'; // импортируем HOC\r\n\r\n\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nimport ImagePopup from './ImagePopup';\r\nimport InfoPopup from './InfoPopup';\r\n\r\nimport api from '../utils/api';\r\nimport  {setToken, getToken, removeToken} from '../utils/token';\r\nimport  userAuth from '../utils/auth';\r\n\r\n\r\nimport {CurrentUserContext} from '../context/CurrentUserContext';\r\n\r\n\r\nfunction App() {\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\r\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState(null);\r\n\tconst [currentUser, setCurrentUser] = React.useState(null);\r\n\tconst [cards, setCards] = React.useState([]);\r\n\r\n\tconst [loggedIn , setIsLoggedIn] = React.useState(false);\r\n\r\n\tconst [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\r\n\tconst [InfoToolValue, setInfoToolValue] = useState({ infoText: '', infoType: '', name:''});\r\n\r\n\r\n\tconst [userData, setUserData] = useState({ email: ''});\r\n\tconst history = useHistory();\r\n\r\n\r\n\r\n\tconst tokenCheck = () => {\r\n\t\tconst jwt = getToken();\r\n\t\tif (!jwt) {\r\n\t\treturn;\r\n\t\t\t}\r\n\r\n\t\tuserAuth.getContent(jwt).then((res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tconst userData = {\r\n\t\t\t\t\t\t\temail: res.data.email\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetIsLoggedIn(true);\r\n\t\t\t\t\tsetUserData(userData);\r\n\t\t\t\t\thistory.push('/cards')\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log( err));\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\tconst loadUserInfoandCards = async ()  => {\r\n\t\ttry{\r\n\t\t\tconst user = await api.getInitialUser();\r\n\t\t\tconst data = await api.getInitialCards();\r\n\t\t\tsetCurrentUser(user);\r\n\t\t\tsetCards(data);\r\n\t\t} catch(error) { \r\n\t\t\tconsole.log(error);\r\n\t\t} finally { \r\n\t\t\t// loader false\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tloadUserInfoandCards();\r\n\t\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t\ttokenCheck();\r\n\t\t\t}, []);\r\n\r\n\r\n\r\n\tfunction handleEditAvatarClick () {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleEditProfileClick () {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick () {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleDeleteClick () {\r\n\t\tsetIsDeletePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleCardClick (card) {\r\n\t\tsetIsImagePopupOpen(true);\r\n\t\tsetSelectedCard(card);\r\n\t}\r\n\r\n\tfunction closeAllPopups () {\r\n\t\t\t\tsetIsEditProfilePopupOpen(false);\r\n\t\t\t\tsetIsAddPlacePopupOpen(false);\r\n\t\t\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\t\t\tsetIsDeletePopupOpen(false);\r\n\t\t\t\tsetIsImagePopupOpen(false);\r\n\t\t\t\tsetSelectedCard(null);\r\n\t\t\t\tsetIsInfoToolOpen(false);\r\n\t}\r\n\t\r\n\tfunction handleCardLike (card) {\r\n\t\t/**  Снова проверяем, есть ли уже лайк на этой карточке */\r\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\t\t\r\n\t\t/**  Отправляем запрос в API и получаем обновлённые данные карточки */\r\n\t\tapi.changeLikeCardStatus(card._id, !isLiked)\r\n\t\t.then((newCard) => {\r\n\t\t\t/** Формируем новый массив на основе имеющегося, подставляя в него новую карточку */\r\n\t\tconst newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n\t\t\t/** Обновляем стейт */\r\n\t\tsetCards(newCards);\r\n\t\t})\r\n\t\t.catch(err=>console.log(err));\r\n\t}\r\n\r\n\tfunction handleCardDelete (card) {\r\n\t\t\tapi.deleteCard(card._id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst newCards = cards.filter(c => c._id !== card._id);\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch(err=>console.log(err));\r\n\t}\r\n\r\n\tfunction handleUpdateUser (user) {\r\n\t\tapi.putUserInfo(user)\r\n\t\t.then((res) => {\r\n\t\t\tsetCurrentUser(res);\r\n\t\t\tsetIsEditProfilePopupOpen(false)\r\n\t\t})\r\n\t\t.catch(err=>console.log(err));\r\n\t\t//.finally(() => setIsEditProfilePopupOpen(false));\r\n\t}\r\n\r\n\tfunction handleAddPlaceSubmit (card) {\r\n\t\tapi.createCard(card)\r\n\t\t.then((newCard) => {\r\n\t\t\tsetCards([newCard, ...cards]); \r\n\t\t\tsetIsAddPlacePopupOpen(false);\r\n\t\t})\r\n\t\t.catch(err=>console.log(err));\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar (avatar) {\r\n\t\tapi.putAvatarInfo(avatar)\r\n\t\t.then((res) =>{\r\n\t\t\tsetCurrentUser(res);\r\n\t\t\tsetIsEditAvatarPopupOpen(false)\r\n\t\t})\r\n\t\t.catch(err=>console.log(err));\r\n\t}\r\n\r\n\tfunction handleOnRegister (password, email) {\r\n\t\tuserAuth.register(password, email)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tsetInfoToolValue({infoText: 'Вы успешно зарегистрировались!', infoType: 'popup__info-image', name: 'Успешно'});\r\n\t\t\t\t\tsetIsInfoToolOpen(true);\r\n\t\t\t\t\thistory.push('/sign-in');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetInfoToolValue({infoText: 'Что-то пошло не так! Попробуйте еще раз', infoType: 'popup__info-image popup__info-image_err', name: 'Ошибка'});\r\n\t\t\t\tsetIsInfoToolOpen(true);\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\tfunction handleOnLogin (password, email) {\r\n\t\tuserAuth.authorize(password, email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.token) {\r\n\t\t\t\t\tsetToken (res.token);\r\n\t\t\t\t\tsetIsLoggedIn(true);\r\n\t\t\t\t\ttokenCheck();\r\n\t\t\t\t\thistory.push('/cards');\r\n\t\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetInfoToolValue({infoText: 'Что-то пошло не так! Попробуйте еще раз', infoType: 'popup__info-image popup__info-image_err', name: 'Ошибка'});\r\n\t\t\t\tsetIsInfoToolOpen(true);\r\n\t\t\t\tconsole.log(err);});\r\n\t}\r\n\r\n\tfunction handleOnLoguot(){\r\n\t\tremoveToken();\r\n\t\tsetIsLoggedIn(false);\r\n\t\thistory.push('/sign-in');\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t<div className=\"App\">\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<Header  loggedIn={loggedIn} userData={userData} onLogOut={handleOnLoguot} />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<ProtectedRoute path=\"/cards\" loggedIn={loggedIn}>\r\n\t\t\t\t\t\t\t<Main\r\n\t\t\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\t\t\t\tonEditProfile ={handleEditProfileClick}\r\n\t\t\t\t\t\t\t\tonAddPlace ={handleAddPlaceClick}\r\n\t\t\t\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\t\t\t\tonDeleteImg = {handleDeleteClick} \r\n\t\t\t\t\t\t\t\tcards = {cards}\r\n\t\t\t\t\t\t\t\tonCardLike ={handleCardLike}\r\n\t\t\t\t\t\t\t\tonCardDelete ={handleCardDelete} />\r\n\t\t\t\t\t</ProtectedRoute>\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t<Route path=\"/sign-up\">\r\n\t\t\t\t\t\t<Register onRegister={handleOnRegister} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/sign-in\">\r\n\t\t\t\t\t\t<Login  onLogin={handleOnLogin} />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route exact path=\"/*\">\r\n\t\t\t\t\t\t{loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\r\n\t\t\t\t<EditProfilePopup  onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\r\n\t\t\t\t<AddPlacePopup  onAddPlace ={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\r\n\t\t\t\t<EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n\t\t\t\t<PopupWithForm \r\n\t\t\t\t\t\t\tname =\"delete\"\r\n\t\t\t\t\t\t\ttitle = \"Вы уверены?\"\r\n\t\t\t\t\t\t\tsubmitText = \"Да\"\r\n\t\t\t\t\t\t\tisOpen = {isDeletePopupOpen}\r\n\t\t\t\t\t\t\tonClose = {closeAllPopups} />\r\n\t\t\t\t\r\n\t\t\t\t<InfoPopup \r\n\t\t\t\t\t\t\tisOpen = {isInfoToolOpen}\r\n\t\t\t\t\t\t\tonClose = {closeAllPopups} \r\n\t\t\t\t\t\t\tinfoTool = {InfoToolValue} />\r\n\r\n\t\t\t\t<ImagePopup \r\n\t\t\t\t\t\tisOpen = {isImagePopupOpen}\r\n\t\t\t\t\t\tonClose = {closeAllPopups}\r\n\t\t\t\t\t\tcard = {selectedCard} />\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t</div>\r\n\t</CurrentUserContext.Provider>\r\n\t);\r\n\r\n}\r\n\r\nexport default App;\r\n","const TOKEN_KEY = 'jwt';\r\n\r\nexport const setToken = (token) => {\r\n\tlocalStorage.setItem(TOKEN_KEY, token);\r\n}\r\n\r\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\r\n\r\nexport const removeToken = () => {\r\n\tlocalStorage.removeItem(TOKEN_KEY);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}